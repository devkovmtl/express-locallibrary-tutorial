<%- include('head'); -%>

<div class="container-fluid">
  <div class="row">
    <%- include('sidenav'); -%>
    <div class="col-sm-10">
      <h1><%= title %></h1>
      <form method="post">
        <div class="form-group">
          <label for="book">Book</label>
          <select
            name="book"
            id="book"
            class="form-control"
            placeholder="Select book"
          >
            <% for (let i=0; i< book_list.length; i++) { %> <% if(bookinstance)
            {%>
            <option
              value="<%=book_list[i]._id%>"
              selected="<%=bookinstance.book.toString()==book._id.toString()? 'selected': false%>"
            >
              <%=book_list[i].title%>
            </option>
            <% } else { %>
            <option value="<%=book_list[i]._id%>">
              <%=book_list[i].title%>
            </option>
            <% } %> <% } %>
          </select>
        </div>
        <div class="form-group">
          <label for="imprint">Imprint</label>
          <input
            type="text"
            class="form-control"
            id="imprint"
            placeholder="Publisher and data information"
            name="imprint"
            required
            value="<%=bookinstance ? bookinstance.imprint : ''%>"
          />
        </div>
        <div class="form-group">
          <label for="due_back">Date when book available:</label>
          <input
            type="date"
            id="due_back"
            class="form-control"
            name="due_back"
            value-="<%=bookinstance ? bookinstance.due_back : '' %>"
          />
        </div>
        <div class="form-group">
          <label for="status">Status: </label>
          <select
            id="status"
            name="status"
            class="form-control"
            placeholder="Select status"
            required
          >
            <option value="Maintenance">Maintenance</option>
            <option value="Available">Available</option>
            <option value="Loaned">Loaned</option>
            <option value="Reserved">Reserved</option>
          </select>
        </div>
        <div class="form-group">
          <button class="btn btn-primary" type="submit">Submit</button>
        </div>
      </form>

      <% if(errors && errors.length > 0) {%>
      <ul>
        <% for (let i=0; i < errors.length; i++) { %>
        <li><%= errors[i].msg %></li>
        <% } %>
      </ul>
      <% } %>
    </div>
  </div>
</div>

<%- include('footer'); -%>
